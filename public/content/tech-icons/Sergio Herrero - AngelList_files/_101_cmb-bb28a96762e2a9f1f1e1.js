webpackJsonp([709],{1543:function(t,e,n){var r=function(t,e){return function(){return t.apply(e,arguments)}},o={}.hasOwnProperty;t.exports=Promise.all([new Promise(function(t){t()}).then(n.bind(null,2)),new Promise(function(t){t()}).then(n.bind(null,33)),n.e(67).then(n.bind(null,989)),n.e(28).then(n.bind(null,856)),n.e(27).then(n.bind(null,853)),n.e(68).then(n.bind(null,998))]).then(function(){return function(t,e,n,i,u,s){var p;return p=function(e){function n(){return this.toggleFeatured=r(this.toggleFeatured,this),this.confirm=r(this.confirm,this),n.__super__.constructor.apply(this,arguments)}return function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(n,i("StartupInvestment")),n.prototype.idAttribute="token",n.prototype.urlRoot=function(){return"/startup_roles"},n.prototype.hasInvestments=function(){return this.get("investments").length>0},n.prototype.firstInvestment=function(){return this.get("investments")[0]},n.prototype.isPrivate=function(){return this.get("private")},n.prototype.confirmedByTagged=function(){return this.get("confirmed").tagged},n.prototype.confirm=function(){return this.set("confirmed",!0),t.ajax({url:"/startup_roles/approve.js",method:"POST",data:{token:this.id}})},n.prototype.toggleFeatured=function(){return this.set("featured",!this.get("featured")),new s({token:this.id}).save({featured:this.get("featured")})},n.prototype.madeOnline=function(){return null!=this.firstInvestment()&&null!=this.firstInvestment().online},n.prototype.submit=function(t,e){var n;return n=new s,this.get("startup_id")&&(t.startup_id=this.get("startup_id")),t.source="user_profile",n.save(t,{success:function(t,n){var r;return(r=new p(n.investments[0])).set({addedAt:Date.now()}),p.repository.add(r),e.call()},error:function(t,n){return e.call(null,n.responseJSON.error)}})},n}(),p.repository=u.get(p),p.repository.comparator=function(t){return t.get("company").company_name.toLowerCase()},p.repository.resetAddedAt=function(){return this.each(function(t){return t.set("addedAt",null)})},p.repository.groupForDisplay=function(){var t;return t=this.groupBy(function(t){return null!=t.get("addedAt")?"new":"existing"}),{new:e.sortBy(t.new||[],function(t){return-t.get("addedAt")}),featured:this.getFeatured(t.existing,!0),collapsed:this.getFeatured(t.existing,!1)}},p.repository.getFeatured=function(t,n){return null==t?[]:0===e.filter(t,function(t){return t.get("featured")}).length?n?t.slice(0,9):t.slice(9):e.filter(t,function(t){return t.get("featured")===n})},p}.apply(void 0,arguments[0])}.bind(this))}});
webpackJsonp([1463],{1855:function(t,e,n){(function(e){var r=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;t.exports=Promise.all([new Promise(function(t){t()}).then(n.bind(null,2)),new Promise(function(t){t()}).then(n.bind(null,106)),n.e(215).then(n.bind(null,1351)),n.e(294).then(n.bind(null,1455))]).then(function(){return function(t,n,i,o){var s,u,l,p,c;return c=function(t,n){return e.template(t,n,{interpolate:/\{\{(.+?)\}\}/g})},u=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return r(e,t),e.prototype.initialize=function(t){return this.template=t.template,this.file=t.file,this.render(this.file.name)},e.prototype.updateProgress=function(t){return this.file.status===i.UPLOADING?this.$(".js-uploading-progress").html(t+"%"):(this.$(".js-uploading-progress").hide(),this.file.status===i.SUCCESS?this.remove():this.file.status===i.ERROR?this.$(".js-error").html("Error: "+t.error).show():void 0)},e.prototype.render=function(t){return this.$el.html(c(this.template,{name:t}))},e}(n.View),l=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.initialize=function(t){return this.screenshotUploadTemplate=t.screenshotUploadTemplate,new i(this.$el[0],{url:t.url,processing:null,dictDefaultMessage:this.$el.data("message"),addedfile:function(t){return function(e){return t.addedFile(e)}}(this),uploadprogress:function(t){return function(e,n,r){return n=parseFloat(n).toFixed(2),t.uploadprogress(e,n,r)}}(this),success:function(t){return function(e,n){return t.success(e,n)}}(this),error:function(t){return function(e,n){return t.uploadprogress(e,n)}}(this),processing:function(t){},thumbnail:function(t,e){}}),this.uploads=[]},n.prototype.addedFile=function(t){var e;return e=new u({file:t,template:this.screenshotUploadTemplate}),this.$el.append(e.$el),this.uploads.push(e)},n.prototype.uploadprogress=function(t,e){return this.uploaderForFile(t).updateProgress(e)},n.prototype.success=function(t,e){return this.collection.add(new o(e)),this.uploadprogress(t)},n.prototype.uploaderForFile=function(t){return e.find(this.uploads,function(e){return e.file===t})},n}(n.View),p=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return r(e,t),e.prototype.events=function(){return{"click .js-remove":function(t){return function(){return t.model.destroy()}}(this)}},e.prototype.attributes=function(){return{class:"js-screenshot-view","data-id":this.model.id}},e.prototype.initialize=function(t){return this.template=t.template,this.$el.html(c(this.template,this.model.attributes))},e}(n.View),s=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return r(i,n),i.prototype.initialize=function(t){var e,n,r,i;for(this.listenTo(this.collection,"add",function(t){return this.onAdd(t)}),this.listenTo(this.collection,"remove",function(t){return function(e){return t.onRemove(e)}}(this)),this.screenshotViewTemplate=t.screenshotViewTemplate,this.views=[],n=0,r=(i=this.$el.data("existing")).length;n<r;n++)e=i[n],this.collection.add(new o(e));if(t.sortable)return this.intiializeSortable()},i.prototype.onAdd=function(t){var e;return e=new p({model:t,template:this.screenshotViewTemplate}),this.views.push(e),this.$el.append(e.$el)},i.prototype.onRemove=function(t){var n;if(n=e.find(this.views,function(e){return e.model===t}))return n.remove(),this.views.splice(e.indexOf(this.views,n),1)},i.prototype.intiializeSortable=function(){return this.$el.sortable({stop:function(e){return function(n,r){var i,o;return i=function(){var e,n,r,i;for(i=[],e=0,n=(r=this.$(".js-screenshot-view")).length;e<n;e++)o=r[e],i.push(t(o).data("id"));return i}.call(e),e.trigger("reordered",i)}}(this)})},i}(n.View),{ScreenshotManager:s,ScreenshotView:p,ScreenshotUploader:l,ScreenshotUpload:u}}.apply(void 0,arguments[0])}.bind(this))}).call(e,n(33))}});
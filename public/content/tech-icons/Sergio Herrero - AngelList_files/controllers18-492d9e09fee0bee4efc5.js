webpackJsonp([797],{2685:function(t,e,n){function i(t){return n(o(t))}function o(t){var e=r[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var r={"./job_profile_signup":2686,"./job_profiles":2687,"./layouts":2688,"./mentions":2691,"./messages":2692};i.keys=function(){return Object.keys(r)},i.resolve=o,t.exports=i,i.id=2685},2686:function(t,e,n){(function(e){var i=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;t.exports=Promise.all([new Promise(function(t){t()}).then(n.bind(null,2)),new Promise(function(t){t()}).then(n.bind(null,106)),new Promise(function(t){t()}).then(n.bind(null,107)),n.e(123).then(n.bind(null,1216)),n.e(70).then(n.bind(null,1016)),n.e(34).then(n.bind(null,857)),n.e(99).then(n.bind(null,1096)),n.e(26).then(n.bind(null,844))]).then(function(){return function(t,n,o,r,s,a,u,l){return{resume_button:function(e,n){var i,r,s,a,u,c,d;return r=e("form.resume_form"),i=e("form.delete_form"),s=e(".js-resume-error"),c=e(".remove"),d=e(".view"),a=o.loadingOptions(r,{dataType:"json",beforeSubmit:function(){return e(".button").addClass("c-button--loading"),s.hide(),t.facybox.loading()},success:function(t){return e(".file_name").hide(),window.location.href=t.next_url},error:function(n){var i;return i=n.responseJSON,t.facybox.close(),s.empty().append((null!=i?i.errors:void 0)||"An unknown error occurred"),s.fadeIn(),e(".button").removeClass("c-button--loading")}}),e(".remove").click(function(){if(confirm("Are you sure you want to remove your resume?"))return i.ajaxSubmit({success:function(e){return c.hide(),d.hide(),t("#candidate_resume_url").val("")},error:function(t){return alert("There was an error while deleting your resume.")},complete:function(t){return alert("Your resume has been removed.")}})}),e(".button").click(function(){return e(".resume_file").click()}),"undefined"!=typeof chrome&&null!==chrome&&null!=chrome.runtime&&null!=(u=chrome.runtime.connect("gafopelhaflhdaincdcimghamopgjkdg",{name:"resume_import"}))&&null!=u.onMessage&&(u.onMessage.addListener(function(n){var i,o,s;return e(".resume_file").remove(),i=new FormData(r[0]),s=new Uint8Array(n.pdf).buffer,o=new Blob([s],{type:"application/pdf"}),o.type="application/pdf",i.append("resume[resume]",o,"resume.pdf"),i.append("resume[parse_only]",1),i.append("src","linkedin"),t.facybox.loading(),t.ajax({url:r[0].action,data:i,cache:!1,contentType:!1,processData:!1,type:r[0].method,success:function(t){return l.track("LinkedIn Resume Uploaded"),window.location.href=t.next_url}}),l.track("LinkedIn Resume Sent")}),u.postMessage({action:"get_resume"})),e(".resume_file").change(function(){if(""!==e(this).val())return r.ajaxSubmit(a)})},facebook_button:function(e,o){return new(function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,e),n.prototype.initialize=function(){return this.social=new r(!1),this.button=this.$el.find(".facebook-dl-button"),r.on("connect_social_network_end",function(t){return function(){return t.social.update()}}(this)),r.on("connected_networks_updated",function(t){return function(){return t.social.isConnected("facebook")?t.download_from_facebook():t.button.removeClass("c-button--loading")}}(this))},n.prototype.events={"click .facebook-dl-button":function(t){if(!this.button.hasClass("c-button--loading"))return this.button.addClass("c-button--loading"),this.social.isConnected("facebook")?this.download_from_facebook():this.social.connect("facebook")}},n.prototype.download_from_facebook=function(){return t.ajax({url:"/job_profiles/download_from_facebook",type:"post",success:function(t){return window.location.href=t.next_url}})},n}(n.View))({el:o})},basic_profile_form:function(n,o){return new(function(n){function o(){return o.__super__.constructor.apply(this,arguments)}return i(o,n),o.prototype.events=function(){return e.extend(o.__super__.events.apply(this,arguments),{"change .js-student":"onChangeStudent","change .js-role":"onChangeRole","change .js-degree-type":"onChangeDegreeType","click .js-add-major":"addMajor"})},o.prototype.initialize=function(){return this.initializeLocationField(),this.initializeAutocompletes(),this.focusOnNextInput(),this.initializeForm()},o.prototype.initializeForm=function(){return this.form=new u.PartialForm({el:this._form()})},o.prototype.initializeLocationField=function(){var t;return t=new s.NewTaggingField({el:this.$(".js-tagging-field")}),this.listenTo(t,"filled",function(e){return function(){return e.focusOnNextInput(t.$el.find("input"))}}(this))},o.prototype.initializeAutocompletes=function(){var e,n,i,o,r,s;for(s=[],e=0,o=(r=this.$(".js-autocomplete-input")).length;e<o;e++)n=r[e],i=new a.TagAutocomplete({el:n,tag_type:t(n).data("tag-type")+"Tag"}),s.push(function(t){return function(e){return t.listenTo(e,"select",function(n){return e.$el.val(n.tag.display_name),t.focusOnNextInput(e.$el)})}}(this)(i));return s},o.prototype.focusOnNextInput=function(e){var n,i;if(n=this.$('input[type="text"]:visible, select'),i=e?n[n.index(e)+1]:n.first())return t(i).focus()},o.prototype.onChangeStudent=function(){var t,e,n;return e="true"===this.$(".js-student:checked").val()?[".js-work-experience",".js-education"]:[".js-education",".js-work-experience"],t=e[0],n=e[1],this.$(t).hide(),this.$(n).show(),this.$(".js-role").focus()},o.prototype.onChangeRole=function(){var t;return t="true"===this.$(".js-student:checked").val()?".js-education":".js-work-experience",this.$(t).find("input:visible").first().focus()},o.prototype.onChangeDegreeType=function(n){var i,o,r,s;if(s=this.$(".js-degree-type-container").data("degree_types_to_show_other_input"),o=parseInt(t(n.currentTarget).val()),r=e.contains(s,o),(i=this.$(".js-full-degree-name-container")).toggle(r),!r)return i.val("")},o.prototype.addMajor=function(){var t;return t=this.$(".js-major-container")[0].outerHTML,this.$(".js-add-major-container").before(t)},o.prototype._handleError=function(t){return o.__super__._handleError.apply(this,arguments),this.form.handleErrors(t)},o.prototype._handleSuccess=function(){return window.location.href=this.$el.data("url")},o.prototype._form=function(){return this.$(".js-form")},o}(u.FormContainer))({el:o})}}}.apply(void 0,arguments[0])}.bind(this))}).call(e,n(33))},2687:function(t,e,n){var i=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty,r=function(t,e){return function(){return t.apply(e,arguments)}};t.exports=Promise.all([new Promise(function(t){t()}).then(n.bind(null,2)),new Promise(function(t){t()}).then(n.bind(null,106)),new Promise(function(t){t()}).then(n.bind(null,164)),new Promise(function(t){t()}).then(n.bind(null,108)),new Promise(function(t){t()}).then(n.bind(null,33)),n.e(139).then(n.bind(null,1279)),new Promise(function(t){t()}).then(n.bind(null,107)),n.e(140).then(n.bind(null,1190)),n.e(167).then(n.bind(null,1366)),n.e(57).then(n.bind(null,926)),n.e(26).then(n.bind(null,844))]).then(function(){return function(t,e,n,o,s,a,u,l,c,d,h){var p,f;return f=s.extend({},e.Events),p={defaultPosition:"top",show:{effect:!1,delay:0},hide:{effect:!1}},{browse_candidates_table:function(e,n){var o,r,u,c;return n.data("show-wvyp-modal")&&a.show_wvyp(n.data("show-wvyp-modal")),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.events=function(){return s.extend(e.__super__.events.call(this),{"click .js-more-connections":"_showMoreConnections","click .js-messages-link":"_clickMessagesLink"})},e.prototype.showConnection=function(t){return this.$(".js-connections").html(t)},e.prototype.showQuizzes=function(t){return this.$(".js-quiz-profile").html(t),this.$(".js-quizzes").show()},e.prototype.onExpand=function(t){return e.__super__.onExpand.apply(this,arguments)},e.prototype.onContract=function(){return e.__super__.onContract.apply(this,arguments)},e.prototype._showMoreConnections=function(t){return this.$(".js-more-connections").hide(),this.$(".js-hidden-connections").show(),t.stopPropagation()},e.prototype._clickMessagesLink=function(t){return h.track("Talent.Messages.ClickFromRecruitTab",{startup_id:this.startupId,candidate_id:this.rowId}),t.stopPropagation()},e}(l.BrowseCandidatesTableRow),o=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,e),n.prototype.events=function(){return s.extend(n.__super__.events.call(this),{"click .js-open-sort-menu":"_openSortMenu"})},n.prototype.initialize=function(t){var e,i,o,r;for(n.__super__.initialize.call(this,t),this.startup=this.$el.data("startup"),this.startupId=this.$el.data("startup-id"),this.vent=t.vent,e=0,i=(o=this.rows).length;e<i;e++)(r=o[e]).startup=this.startup,r.startupId=this.startupId;return this._initializeStickySortMenuPrompt(),this._loadConnections(),this._loadQuizzes(),this.vent.on("sortMenuShow",function(t){return function(){return t.contractNextRow()}}(this))},n.prototype.rowOnInterested=function(t){return n.__super__.rowOnInterested.apply(this,arguments),this.vent.trigger("startup_yessed_candidate")},n.prototype.rowOnArchiveButtonClick=function(t,e){return n.__super__.rowOnArchiveButtonClick.apply(this,arguments),this.vent.trigger("startup_archived_candidate")},n.prototype.rowOnUndo=function(t,e){return n.__super__.rowOnUndo.apply(this,arguments),this.vent.trigger("startup_undo_yessed_candidate")},n.prototype._initializeStickySortMenuPrompt=function(){return this.prompt=t(".js-sort-nag"),this.offset_top=1e3,this.width=this.prompt.width(),t(window).scroll(function(e){return function(){if(t(window).scrollTop()>e.offset_top+e.prompt.outerHeight()){if(!e.prompt.hasClass("stick"))return e.prompt.addClass("stick").width(e.width)}else if(t(window).scrollTop()<e.offset_top&&e.prompt.hasClass("stick"))return e.prompt.removeClass("stick").width("auto")}}(this))},n.prototype._onProcessed=function(t,e){return n.__super__._onProcessed.call(this,t,e),this.vent.trigger("startup_processed_candidate"),this.vent.trigger("update_candidate_counts"),this.vent.trigger("processed_vote")},n.prototype._showPostInterestedRowPartial="job_profiles/post_yes_row",n.prototype._loadConnections=function(){var e;return t.ajax({url:"/job_profiles/connections",data:{startup_id:this.startupId,user_ids:function(){var t,n,i,o;for(o=[],t=0,n=(i=this.rows).length;t<n;t++)e=i[t],o.push(e.rowId);return o}.call(this)},success:function(t){return function(n){var i,o,r,s,a;if(i=n.connections){for(a=[],o=0,r=(s=t.rows).length;o<r;o++)i[(e=s[o]).rowId]?a.push(e.showConnection(i[e.rowId])):a.push(void 0);return a}}}(this)})},n.prototype._loadQuizzes=function(){var e;return t.ajax({url:"/quizzes/profiles",data:{startup_id:this.startupId,candidate_ids:function(){var t,n,i,o;for(o=[],t=0,n=(i=this.rows).length;t<n;t++)e=i[t],o.push(e.rowId);return o}.call(this)},success:function(t){return function(n){var i,o,r,s,a;if(r=n.quiz_profiles){for(a=[],i=0,o=(s=t.rows).length;i<o;i++)r[(e=s[i]).rowId]?a.push(e.showQuizzes(r[e.rowId])):a.push(void 0);return a}}}(this)})},n.prototype._openSortMenu=function(){return openSortMenu()},n}(l.BrowseTable),c=function(){var t,n,i,o;for(o=[],t=0,n=(i=e(".browse_candidates_table_row")).length;t<n;t++)u=i[t],o.push(new r({el:u}));return o}(),new o({el:n,rows:c,vent:f})},browse_candidate_details:function(e,n){return n.find("a").click(function(t){return this.target="_blank",t.stopPropagation()}),e(".hidden_more").on("click",function(e){return t(this).siblings(".hidden").show(),t(this).hide().siblings(".elipses").hide()}),e(".report-profile").click(function(){return t.magnificPopup.open({items:{src:t(this).attr("href")},type:"ajax",focus:"textarea"}),!1}),e(".js-more-skills").click(function(t){return e(".js-skills-preview").hide(),e(".js-all-skills").show(),t.stopPropagation()})},post_yes_row:function(t,e){return new l.PostYesRow({el:e,jobPairing:{startup_id:e.data("startup-id"),user_id:e.data("user-id"),job_listing_id:e.data("job-listing-id"),startup_interested:e.data("startup-interested")}})},report_candidate:function(e,n){return e(".report-candidate-form").keydown(function(t){if(13===t.keyCode)return!1}),e(".report-candidate-form").submit(function(){return e(".form-sending").show(),e("button",t(this)).hide(),t(this).ajaxSubmit(function(e){return t.magnificPopup.close()}),!1}),e(".cancel-report-candidate").click(function(){return t.magnificPopup.close(),!1})},a_list_promo:function(e,n){return e(".js-hide-promo").click(function(e){return n.slideUp("fast"),t.post("/property",{name:"hide-a-list-tutorial",value:!0})})},completeness:function(t,e){return new(function(t){function e(){return this._success=r(this._success,this),e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.tipTipMsg=function(t){return t<65?"Successful candidates typically have at least 65% profile completeness.":t<100?"Find out how to improve your profile.":void 0},e.prototype._success=function(t,e){if(100!==e)return this.$(".js-completeness-section").show(),this.$(".tips_link").attr("title",this.tipTipMsg(e)),this.$(".tiptip").qtip(p)},e}(c.Completeness))({el:e,profileType:"talent",completenessUrl:e.data("completeness-url")})},intro_button:function(n,o){return new(function(e){function n(){return this._interested=r(this._interested,this),n.__super__.constructor.apply(this,arguments)}return i(n,e),n.prototype.events={"click .js-interested-button":"onInterestedButtonClick","click .js-add-note-button":"onAddNoteButtonClick","click .js-hide-note-button":"onHideNoteButtonClick","click .js-interested-with-note-button":"onInterestedWithNoteButtonClick","change .js-email-template-select":"onChangeEmailTemplateSelect"},n.prototype.initialize=function(t){var e,n;if(this.apply_email_templates_path=this.$el.data("apply-email-templates-path"),this.startup_id=this.$el.data("startup-id"),this.user_id=this.$el.data("user-id"),this.candidate_id=this.$el.data("candidate-id"),0===(e=this.$(".character-count-container")).children().length&&(n=this.$("textarea.interested-note")[0]))return new u.CharacterCounter({el:n,max:parseInt(this.$(n).attr("maxlength"),10),container:e})},n.prototype.onInterestedButtonClick=function(t){return this._interested(!0)},n.prototype.onAddNoteButtonClick=function(t){return this.$(".note-prompt").show()},n.prototype.onHideNoteButtonClick=function(t){return this.$(".note-prompt").hide()},n.prototype.onInterestedWithNoteButtonClick=function(e){return s.isEmpty(this._note())?(this.$(".interested-note").focus(),!1):(t(".js-interested-with-note-button").addClass("c-button--loading").prop("disabled",!0),this._interested(!0))},n.prototype.onChangeEmailTemplateSelect=function(){this.template_id=this.$(".js-email-template-select").val();if(this.template_id)return t.get(this.apply_email_templates_path,{template_id:this.template_id,candidate_id:this.candidate_id,startup_id:this.startup_id},function(t){return function(e){return t.$(".js-interested-note").val(e.body)}}(this));this.$(".js-interested-note").val("")},n.prototype._note=function(){return t.trim(this.$(".js-interested-note").val())},n.prototype._interested=function(e){return t.ajax({url:"/job_pairings",type:"POST",data:{job_pairing:{startup_id:this.startup_id,user_id:this.user_id,startup_interested:e?1:0,startup_note:this._note()},tab:this.$el.data("source")},success:function(t){return function(e){var n;return t.trigger("processed",e),(n=t.$(".js-get-intro-button")).hide(),n.after(e.post_yes_html),t.$(".js-note-link").hide()}}(this)})},n}(e.View))({el:o})},lead_form:function(t,n){return new(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.events={"click .js-submit":"onSubmit"},e.prototype.onSubmit=function(t){return t.preventDefault(),this.$("form").ajaxSubmit({dataType:"json",success:function(t){return function(e){return t.$(".js-errors").html("").hide(),e.success?window.location=e.redirect_url:t.$(".js-errors").html(e.errors).show()}}(this)})},e}(e.View))({el:n})}}}.apply(void 0,arguments[0])}.bind(this))},2688:function(t,e,n){var i=function(t,e){return function(){return t.apply(e,arguments)}},o=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty,s=[].slice;t.exports=Promise.all([n.e(121).then(n.bind(null,1217)),new Promise(function(t){t()}).then(n.bind(null,106)),new Promise(function(t){t()}).then(n.bind(null,33)),new Promise(function(t){t()}).then(n.bind(null,2)),n.e(1239).then(n.bind(null,2689)),n.e(109).then(n.bind(null,1139)),n.e(41).then(n.bind(null,869)),n.e(0).then(n.bind(null,810)),new Promise(function(t){t()}).then(n.bind(null,52)),n.e(34).then(n.bind(null,857)),n.e(29).then(n.bind(null,854)),n.e(101).then(n.bind(null,1191)),n.e(26).then(n.bind(null,844)),new Promise(function(t){t()}).then(n.bind(null,57))]).then(function(){return function(t,e,r,a,u,l,c,d,h,p,f,_,m){var g,w,v;return w=function(t){return t>99?"99+":t},function(t,e,n){var i;if(n>0)return i=w(n),t(".notification_counter."+e).text(i).show(),t("."+e+"_image").addClass("active")},v=function(t,e,n){if(null==n&&(n=0),t.length>0&&e.length>0)return a.get("/home/nav_dropdown",function(i){var o;return o=a(i),t.replaceWith(o),new c(e,o.find(".navLinks"),{left:!1,adjust_left:n}).bind()})},g=function(t){function e(){return this.unload=i(this.unload,this),e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.initialize=function(t){return this.$navbar=t.$navbar,this.$original=this.$el.children(),this.$spinner=a("<img>").attr("src","/images/shared/loading.gif"),this.tokens=[],this.$navbar.on("click focus",this.unload),this.$navbar.css("min-height",this.$navbar.css("height")),this.blinkTimeout=setTimeout(function(t){return function(){return t.$el.effect("pulsate",{times:2},1e3)}}(this),1e4),this.fadeTimeout=setTimeout(function(t){return function(){return t.reset(!1)}}(this),2e4),this.next()},e.prototype.events={"click a.a_bar":"submit"},e.prototype.clearTimeouts=function(){return clearTimeout(this.blinkTimeout),clearTimeout(this.fadeTimeout)},e.prototype.unload=function(){if(0===this.tokens.length)return this.unloaded=!0},e.prototype.render=function(t){return this.$el.children().wrapAll('<div class="wrap" />'),this.$el.find(".wrap").fadeOut(200,function(e){return function(){return e.$el.children().detach(),t.hide().appendTo(e.$el).fadeIn(200)}}(this))},e.prototype.submit=function(t){return this.clearTimeouts(),this.$el.find(".notification .inner").fadeOut(200,function(e){return function(){return e.$el.find(".notification").html(e.$spinner.hide()),e.$spinner.fadeIn(200,function(){var n;if(n={url:a(t.target).attr("href"),type:"POST"},a(t.target).hasClass("delete"))n.data={_method:"delete"};else if(a(t.target).hasClass("dismiss"))return u.set("a-bar-dismiss",1,{expires:5,path:"/"}),a.ajax(n),e.clearTimeouts(),e.reset(!1),!1;return a.ajax(n),e.next()}).css("display","inline-block")}}(this)),!1},e.prototype.reset=function(t){return null==t&&(t=!0),t&&this.$el.find(".notification").html("<span>Thank you!</span>"),setTimeout(function(t){return function(){return t.$el.children().fadeOut(500,function(){return t.$el.html(t.$original),t.$original.hide().fadeIn()})}}(this),t?2e3:5)},e.prototype.next=function(){return a.ajax(this.$el.data("confirmation_url"),{data:{seen:this.tokens.join(" ")},success:function(t){return function(e){return t.unloaded||!a(e).filter("div").data("token")?t.clearTimeouts():(t.tokens.push(a(e).filter("div").data("token")),t.render(a(e).filter("*")))}}(this),error:function(t){return function(){return t.tokens.length>0?t.reset():t.clearTimeouts()}}(this)})},e}(e.View),{processing:function(r,s){var u,l;return u=function(e){function s(){return this.recomputeDimensions=i(this.recomputeDimensions,this),this._$detailsContent=i(this._$detailsContent,this),this._detailsJsp=i(this._detailsJsp,this),this._listJsp=i(this._listJsp,this),this.toggleControls=i(this.toggleControls,this),this.hideControls=i(this.hideControls,this),this.showControls=i(this.showControls,this),this.hideDetails=i(this.hideDetails,this),this.showDetails=i(this.showDetails,this),this.scrollDetailsTo=i(this.scrollDetailsTo,this),this.scrollListTo=i(this.scrollListTo,this),this.scrollListToTop=i(this.scrollListToTop,this),this.detailsSizeChanged=i(this.detailsSizeChanged,this),this.changeDetails=i(this.changeDetails,this),this.canToggleControls=i(this.canToggleControls,this),this.canToggleDetails=i(this.canToggleDetails,this),s.__super__.constructor.apply(this,arguments)}return o(s,e),s.prototype.initialize=function(e){var i;return this.recomputeDimensions(),a(window).on("resize",this.recomputeDimensions),(i=function(t){return function(){var e,n,i;return(i=null!=t._listJsp()?t._listJsp().getContentPositionY():t.$("> .container > .list > .content").scrollTop())<=0&&(i=-parseInt(t.$("> .container > .list").css("margin-top"))),i<=0&&(i=Math.max(a(window).scrollTop()-t.$("> .container").offset().top,0)),t.canToggleDetails()?(null!=(e=t._detailsJsp())&&e.destroy(),null!=(n=t._listJsp())&&n.destroy(),t.hideDetails(),t.hideControls(),t.recomputeDimensions(),a(window).scrollTo(t.$("> .container").offset().top+i)):(t.hideDetails(),t.hideControls(),t._$detailsContent().show())}}(this))(),d.on("change",i),this.$("> .container > .list").removeClass("loading"),null==e.swipesActive&&(e.swipesActive=!0),t.touchevents&&Promise.all([n.e(225).then(n.bind(null,1541)),n.e(224).then(n.bind(null,1542))]).then(function(){return function(t){return function(){return t.$("> .container > .details > .content").on("movestart",function(t){if(t.distX>t.distY&&t.distX<-t.distY||t.distX<t.distY&&t.distX>-t.distY)return t.preventDefault()}).on("swiperight",function(){return t.hideDetails()})}}(this).apply(void 0,arguments[0])}.bind(this)),this.recomputeDimensions()},s.prototype.canToggleDetails=function(){return d.isHandheld()},s.prototype.canToggleControls=function(){return!d.isDesktop()&&this.$el.hasClass("with_controls")},s.prototype.changeDetails=function(t){var e,n,i;return this.$("> .container > .details").removeClass("with_error"),null!=(i=this._lastChangeDetails)&&i.reject(),e=a.Deferred(),this._lastChangeDetails=e,a.when(t).always(function(){return e.resolve()}),n=a.Deferred(),this._$detailsContent().fadeOut("fast",function(t){return function(){return t.$("> .container > .details ").addClass("loading"),n.resolve()}}(this)),this.showDetails(),a.when(n,e).done(function(e){return function(){return a.when(t).done(function(t){var n;return e.$("> .container > .details").removeClass("loading"),e._$detailsContent().html(t),e._$detailsContent().fadeIn("fast"),null!=(n=e._detailsJsp())?n.reinitialise():void 0}).fail(function(){return e.$("> .container > .details").removeClass("loading").addClass("with_error")}).always(e.deatilsSizeChanged)}}(this))},s.prototype.detailsSizeChanged=function(){var t;return null!=(t=this._detailsJsp())?t.reinitialise():void 0},s.prototype.scrollListToTop=function(){return null!=this._listJsp()?this._listJsp().scrollToY(0,!0):this.canToggleDetails()?a(window).scrollTo(this.$("> .container > .list")):this.$("> .container > .list > .content").scrollTo(0)},s.prototype.scrollListTo=function(t){return null!=this._listJsp()?this._listJsp().scrollToElement(t,!0,!0):this.canToggleDetails()?a(window).scrollTo(t):this.$("> .container > .list > .content").scrollTo(t)},s.prototype.scrollDetailsTo=function(t){return null!=this._detailsJsp()?this._detailsJsp().scrollToElement(t,!0,!0):this.canToggleDetails()?a(window).scrollTo(t):this.$("> .container > .details > .content").scrollTo(t)},s.prototype.showDetails=function(){var t,e;if(this.canToggleDetails())return this._$detailsContent().show(),e=a(window).scrollTop(),(t=this.$("> .container").offset().top-e)<0&&(this.$("> .container > .list").css("margin-top",t+"px"),a(window).scrollTo(this.$("> .container"))),this.$("> .container > .list").css("max-height",a(window).height()-Math.min(t,0)),this.$el.removeClass("show_controls").addClass("show_details")},s.prototype.hideDetails=function(){var t;if(t=parseInt(this.$("> .container > .list").css("margin-top")),this.$("> .container > .list").css("margin-top",0),this.$("> .container > .list").css("max-height","none"),this.canToggleDetails()&&(this.trigger("hide_details"),this._$detailsContent().fadeOut("fast"),this.$el.removeClass("show_controls").removeClass("show_details"),t<0))return a(window).scrollTo(this.$("> .container").offset().top-t)},s.prototype.showControls=function(){if(this.canToggleControls())return this.canToggleDetails()&&this.$("> .container > .list, > .container > .details").css("max-height",a(window).height()-this.$("> .container").offset().top+"px"),this.$el.removeClass("show_details").addClass("show_controls")},s.prototype.hideControls=function(){if(this.$("> .container > .list, > .container > .details ").css("max-height","none"),this.canToggleControls())return this.$el.removeClass("show_controls").removeClass("show_current")},s.prototype.toggleControls=function(){return this.$el.hasClass("show_controls")?this.hideControls():this.showControls()},s.prototype._listJsp=function(){return this.$("> .container > .list > .content").data("jsp")},s.prototype._detailsJsp=function(){return this.$("> .container > .details > .content").data("jsp")},s.prototype._$detailsContent=function(){return(null!=this._detailsJsp()?this._detailsJsp().getContentPane():this.$("> .container > .details > .content")).children(".wrapper")},s.prototype.recomputeDimensions=function(){var t,e,n;return this.canToggleDetails()?this.$("> .container > .list > .content, > .container > .details > .content").height("auto"):(t=a("body").height()-this.$("> .container").offset().top-a("#footer").height(),t=Math.max(t,this.$("> .container > .controls").outerHeight()),this.$("> .container > .list > .content, > .container > .details > .content").each(function(){return r(this).height(t+r(this).innerHeight()-r(this).outerHeight())})),null!=(e=this._listJsp())&&e.reinitialise(),null!=(n=this._detailsJsp())?n.reinitialise():void 0},s}(e.View),l=new u({el:this}),r("> .container > .details > .error.default").on("click .back",function(){return l.hideDetails()}),l},off_canvas_controls:function(t,n){var r,s;return r=function(t){function e(){return this.toggleControls=i(this.toggleControls,this),this.hideControls=i(this.hideControls,this),this.showControls=i(this.showControls,this),this.initialize=i(this.initialize,this),e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.initialize=function(){var t;return t=function(t){return function(){var e;return(e=t.$("> .container > .controls")).hasClass("fixed")?e.removeClass("fixed").css("width","").width(e.width()).addClass("fixed"):e.css("width","")}}(this),a(window).on("resize",t)},e.prototype.canToggleControls=function(){return d.isHandheld()},e.prototype.showControls=function(){if(this.canToggleControls())return this.$el.removeClass("controls_hidden").addClass("controls_visible")},e.prototype.hideControls=function(){if(this.canToggleControls())return this.$el.removeClass("controls_visible").addClass("controls_hidden")},e.prototype.toggleControls=function(){return this.$el.hasClass("controls_visible")?this.hideControls():this.showControls()},e}(e.View),s=new r({el:this}),t("> .glass_container > .glass").on("click",function(){return s.hideControls()}),s},off_canvas_controls_toggle:function(t,e){var n;if(1!==(n=a(h.selector("layouts/off_canvas_controls"))).length)throw new Error("Cannot understand DOM");return e.on("click",function(){return h.with(n,function(t){return t.toggleControls()})})},profile:function(t,n){return new(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.toggleSidebar=function(t){return t?this.$el.removeClass("hide_sidebar").addClass("show_sidebar"):this.$el.removeClass("show_sidebar").addClass("hide_sidebar")},e.prototype.replaceMain=function(t){var e;return this._replaceMainDeferred=a.Deferred(),e=this._replaceMainDeferred,a.when(t).done(function(t){return function(){var n;if(n=1<=arguments.length?s.call(arguments,0):[],e===t._replaceMainDeferred)return e.resolveWith(t,n)}}(this)).fail(function(t){return function(){var n;if(n=1<=arguments.length?s.call(arguments,0):[],e===t._replaceMainDeferred)return e.rejectWith(t,n)}}(this)),this.$("> .content > .panes_container > .panes_grid > .main").addClass("loading"),a.when(e).always(function(t){return function(){return t.$("> .content > .panes_container > .panes_grid > .main").removeClass("loading")}}(this)).done(function(t){return function(e){return t.$("> .content > .panes_container").removeClass("error").addClass("no_error"),t.$("> .content > .panes_container > .panes_grid > .main").empty().append(e)}}(this)).fail(function(t){return function(){return t.$("> .content > .panes_container").addClass("error").removeClass("no_error")}}(this))},e.prototype.replaceSidebar=function(t){return this.$("> .content > .panes_container > .panes_grid > .sidebar").empty().append(t)},e}(e.View))({el:this})},tabbed_layout:function(t,e){return function(){var t,n,i,o,r,s,u;if(0!==(t=e.children(".content").children(".content_well").children(".content_well_header")).length)return o=null,i=e.children(".content").children(".left_bar").children(".convertible_nav"),0===(u=t.find(".more")).length&&i.length>0&&(s=t.find(".title")).length>0&&(u=a('<div class="more">&#9662;</div>'),u=u.insertAfter(s)),n=null,i.length>0&&u.length>0?(r=function(){if(null!=o&&o.unbind(),null!=n&&n.remove(),d.isHandheld())return n=a('<div class="dropdown"></div>').appendTo(t),i.clone(!0).appendTo(n),(o=new c(u,n)).bind()},d.on("change",r),r()):void 0}()},nav:function(t,e){if(t(".searchInput").on("focus",function(){return t(this).closest("form").addClass("focus")}).on("blur",function(){return t(this).closest("form").removeClass("focus")}),new p.SearchAutocomplete({el:t(".searchInput")}),t(".searchInput").autocomplete("option","position",{my:"left top",at:"left bottom",of:t(".searchForm")}),t(".mobileSearchLink").on("click",function(){return t(".mobileSearchContainer").toggle()}),d.on("change",function(){return t(".mobileSearchContainer").hide()}),new p.SearchAutocomplete({el:t(".mobileSearchInput")}),a(document).on("keydown",function(e){return 191===e.which&&(a(":focus").is(":input")||a(":focus").prop("contenteditable")||(t(".searchInput").focus(),a(document).trigger("close.facybox"),e.preventDefault())),!0}),a(this).data("logged-in")&&setTimeout(function(){return a.get("/home/counts",function(e){if(e.notifications>0&&t(".notificationsCounter").show().text(e.notifications),e.messages>0)return t(".messageCounter").show().text(e.messages)})},100),t(".network-dropdown-desktop-menu")&&new l(t(".network-dropdown-button"),t(".network-dropdown-desktop-menu"),{clickable:!0}),d.isHandheld()&&t(".network-dropdown-handheld-menu")&&new l(t(".network-dropdown-button"),t(".network-dropdown-handheld-menu"),{clickable:!0}),t(".more-dropdown-desktop-menu")&&new l(t(".more-dropdown-button"),t(".more-dropdown-desktop-menu")),d.isHandheld()&&t(".more-dropdown-handheld-menu")&&(new l(t(".more-dropdown-button"),t(".more-dropdown-handheld-menu")),t(".more-dropdown-handheld-menu a").on("touchstart",function(e){return window.location.href=t(e.target).attr("href")})),t(".js-lead-dropdown-desktop-menu")&&new l(t(".js-lead-dropdown-button"),t(".js-lead-dropdown-desktop-menu"),{clickable:!0}),t(".recruiting-manage-dropdown-desktop-menu")&&new l(t(".recruiting-manage-dropdown-button"),t(".recruiting-manage-dropdown-desktop-menu"),{clickable:!0}),v(t(".js-nav-dropdown"),t(".userPhoto")),t("a").each(function(e,n){var i,o;return i=t(n),o=i.attr("title")||i.text(),i.click(function(){return m.track("Nav Click",{location:"nav",link_title:o})})}),d.isDesktop()&&t("> .primaryContainer").data("confirmation_url")&&!u.get("a-bar-dismiss")&&new g({el:t("> .primaryContainer"),$navbar:e}),e.find(".js-inbound-nav-tag").length>0)return a.ajax({url:e.find(".js-inbound-nav-tag").data("url"),success:function(t){if("0"!==t.tag)return e.find(".js-inbound-jewel").html(t.tag).css("display","inline")}})},app_navigation:function(t,n){return new(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.initialize=function(){return v(this.$(".js-appNavigationDropdown"),this.$(".js-appNavigationUserPhoto"),this.$(".js-appNavigationUserPhoto").width()/2),this.$(".js-appNavigationSearchInput").each(function(){return new p.SearchAutocomplete({el:this})})},e.prototype.events={"click .js-appNavigationOverlay":"closeMenus","click .js-appNavigationLeftToggle":"openLeftMenu","click .js-appNavigationRightToggle":"openRightMenu"},e.prototype.openLeftMenu=function(){return this.$el.removeClass("js-stateRightMenuOpen"),this.$el.addClass("js-stateLeftMenuOpen")},e.prototype.openRightMenu=function(){return this.$el.removeClass("js-stateLeftMenuOpen"),this.$el.addClass("js-stateRightMenuOpen")},e.prototype.closeMenus=function(){return this.$el.removeClass("js-stateRightMenuOpen"),this.$el.removeClass("js-stateLeftMenuOpen")},e.prototype.replaceContent=function(t){var e;return this._replaceCounter||(this._replaceCounter=0),this._replaceCounter+=1,e=this._replaceCounter,t=Promise.resolve(t),this.closeMenus(),this.$el.addClass("js-stateLoading"),t.then(function(t){return function(n){if(e===t._replaceCounter)return t.$(".js-appNavigationContent").html(n),t.$el.removeClass("js-stateLoading")}}(this))},e.prototype.selectMenuItem=function(t){var e;return this.$(".js-appNavigationSelectable").removeClass("app-navigation-selected"),e=this.$(".js-appNavigationBreadcrumbs"),a(t).closest(".js-appNavigationSelectable").each(function(){var t,n,i;return a(this).addClass("app-navigation-selected"),t=a(this).data("app-navigation-breadcrumbs"),n=r.map(r.first(t,t.length-1),function(t){return a("<span />").text(t).addClass("app-navigation-breadcrumb-prefix")}),i=a("<span />").text(t[t.length-1]).addClass("app-navigation-breadcrumb-terminal"),e.find(".app-navigation-breadcrumb-prefix").replaceWith(n),e.find(".app-navigation-breadcrumb-terminal").replaceWith(i)})},e}(e.View))({el:this})},nav_dropdown:function(t,e){return t(".tiptip").qtip(),void Promise.all([n.e(83).then(n.bind(null,1093)),n.e(27).then(n.bind(null,853))]).then(function(){return function(e,n){var i,o,r,s;if(o=n.get(e),null!=(s=t(".navLinks").data("user_id")))return r=o.bootstrap(s),(i=function(){if(r.has("avatar"))return t(".js-profileLink").attr("src",r.get("avatar"))})(),r.on("change",i)}.apply(void 0,arguments[0])}.bind(this))},nav_user_photo:function(t,e){return void Promise.all([n.e(83).then(n.bind(null,1093)),n.e(27).then(n.bind(null,853))]).then(function(){return function(n,i){var o,r,s,a;return r=i.get(n),a=e.data("user_id"),s=r.bootstrap(a),(o=function(){if(s.has("avatar"))return t("img").attr("src",s.get("avatar"))})(),s.on("change",o)}.apply(void 0,arguments[0])}.bind(this))},eu_cookie_consent:function(t,n){return new(function(t){function e(){return this._persistConsent=i(this._persistConsent,this),this._hide=i(this._hide,this),this.accept=i(this.accept,this),e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.events=function(){return{"click .js-accept":"accept"}},e.prototype.accept=function(t){return t.preventDefault(),this._hide(),this._persistConsent()},e.prototype._hide=function(){return n.addClass("u-hidden")},e.prototype._persistConsent=function(){return u.set("cookie-consent",1,{expires:2,path:"/",secure:!1}),a.ajax({url:"/cookie_consent",type:"post"})},e}(e.View))({el:n})},env_top_panel:function(t,e){var n,i,o,r,s,u;for((u=function(){var e,n;return e=t(".expand").is(":visible"),n=t(".expand").css("width","auto").show().width(),t(".expand").toggle(e),t(".expand").css("width",n+1)})(),a(window).on("resize",u),t(".set_temp_login").click(function(t){return a(t.target).closest("form").ajaxSubmit({success:function(){var e;return(e=a(t.target).closest(".row")).find(".not_temporary").hide(),e.find(".temporary").show()}})}),t(".environment").click(function(){return t(this).css("margin-right","-1px"),t(".expand").toggle({animation:"fold",horizFirst:!0,size:1},function(e){return function(){return t(e).css("margin-right","0")}}(this)),e.toggleClass("expanded"),t("#sign_in_as_field").focus(),!1}),s=[],n=0,i=(r=["social-menu","transactions-menu","talent-menu","email-menu","more-menu","random-login-menu"]).length;n<i;n++)o=r[n],s.push(new c(t("."+o),t("."+o+" .submenu"),{left:!0,adjust_top:-37,adjust_left:-147}).bind());return s},dickbar:function(t,n){return new(function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,e),n.prototype.hide=function(){return this.$el.slideUp(200)},n.prototype.events=function(){return{"click .js-acceleratorHide":function(e){return t(e.currentTarget).closest("form").ajaxSubmit(),this.$el.hide()},"click .dbar_hide":function(t){var e,n;return t.stopPropagation(),this.hide(),e={},this.$el.hasClass("kano")?n="/people/hide_kano":this.$el.hasClass("angel_profile_cta")?n="/people/hide_latent_investor_dbar":this.$el.hasClass("uk_promo")?n="/people/hide_uk_promo":this.$el.hasClass("js-maintenance")?n="/people/hide_maintenance":this.$el.hasClass("js-two_factor")?n="/people/hide_two_factor":this.$el.hasClass("js-notifications-disabled")?(n="/property",e={name:"hide_notifications_disabled",value:!0}):n="/people/hide_dbar",a.ajax({url:n,type:"post",data:e})},"click .js-acknowledge-terms":function(){return this.$(".js-acknowledge-terms").addClass("c-button--loading"),a.ajax({url:"/people/acknowledge_terms",type:"post",success:this.hide()})}}},n}(e.View))({el:n})},flashes:function(t,e){var n;return t("> .js-popover").length>0?((n=t("> .js-popover")).find('[data-modal="true"]').length>0&&(a.facybox.settings.modal=!0),a.facybox.loading(),a.facybox.reveal(n),n.find(".focus").focus()):t("> .js-popover-url").length>0?a.facybox({ajax:t("> .js-popover-url").data("url")}):t("> .js-container").children().length>0&&t("> .js-container").slideDown("fast"),{flash:function(n,i){if(null==i&&(i=null),e.removeClass("error").addClass("normal"),t(".flash").remove(),f=a('<div class="notice" />').html(n),t("> .js-container").append(f),t("> .js-container").show(),f.addClass(e.data("flash_class")).hide(),f.slideDown(),null!=i)return r.delay(function(){return f.slideUp("fast",function(){return f.remove()})},i)}}},footer_links:function(t){return t(".view_photo_attribution").click(function(t){var e;return e=a(t.currentTarget).data("set"),a.facybox({ajax:"/home/photo_attribution"+(null!=e?"?set="+e:"")})})}}}.apply(void 0,arguments[0])}.bind(this))},2691:function(t,e,n){t.exports=Promise.all([n.e(141).then(n.bind(null,1277)),n.e(714).then(n.bind(null,1856)),n.e(27).then(n.bind(null,853)),n.e(710).then(n.bind(null,1847))]).then(function(){return function(t,e,n,i){return{updating_mentions_field:function(o,r){var s,a,u,l;if(l=n.get(i),o("a.at_mention_link").filter(function(){return null!=o(this).data("slug_id")}).each(function(){var t,e;return t={id:o(this).data("slug_id"),name:o(this).data("name"),sluggable_type:o(this).data("type"),sluggable_id:o(this).data("id"),sluggable_to_s:o(this).find(".at_mention_slug").text()},null!=(e=l.findWhere({name:t.name}))&&e.set("id",t.id),l.bootstrap(t)}),a={Profile:e},null==(s=a[r.data("object_type")]))throw new Error("Unrecognized object type: "+r.data("object_type"));return(u=n.get(s).bootstrap(r.data("object_id"))).set(r.data("field"),r.data("value")),new t.UpdatingField({field:r.data("field"),model:u,el:r})}}}.apply(void 0,arguments[0])}.bind(this))},2692:function(t,e,n){var i=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty,r=function(t,e){return function(){return t.apply(e,arguments)}},s=[].slice;t.exports=Promise.all([new Promise(function(t){t()}).then(n.bind(null,2)),new Promise(function(t){t()}).then(n.bind(null,33)),new Promise(function(t){t()}).then(n.bind(null,106)),n.e(41).then(n.bind(null,869)),new Promise(function(t){t()}).then(n.bind(null,107)),n.e(34).then(n.bind(null,857)),n.e(70).then(n.bind(null,1016)),n.e(141).then(n.bind(null,1277)),n.e(26).then(n.bind(null,844)),n.e(110).then(n.bind(null,1118)),n.e(83).then(n.bind(null,1093)),new Promise(function(t){t()}).then(n.bind(null,164)),new Promise(function(t){t()}).then(n.bind(null,57))]).then(function(){return function(t,e,o,a,u,l,c,d,h,p,f){return{new:function(e,n){return e(".js-show-attachment-field").click(function(){return t(this).remove(),e(".js-attachment-field").show()}),e(".js-message-attachment-input").change(function(){if(this.files[0].size>10485760)return t(this).replaceWith(t(this).clone(!0)),alert("Please select a file under 10MB")}),e(".cancel").on("click",function(){var e;return null!=(e=t.magnificPopup.instance)?e.close():void 0}),e(".js-submit").on("click",function(){e(".js-submit").val("Sending..."),h.track("Message.MessageSent",{source:n.data("source"),sender_id:n.data("senderId"),recipient_id:n.data("recipientId")}),n.data("source")})},form:function(e,n){return new d.Autocomplete({el:e(".body_container"),target:e(":input.body_hidden")}),e("textarea.body").focus(),e(".js-show-attachment-field").click(function(){return t(this).remove(),e(".js-attachment-field").show()}),e(".js-message-attachment-input").change(function(){if(this.files[0].size>10485760)return t(this).replaceWith(t(this).clone(!0)),alert("Please select a file under 10MB")})},compose:function(t,e){return t(".embedded_message textarea").focus()},embedded_composer:function(e,n){return new(function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,e),n.prototype.events=function(){return{"click .js-send-message":"onSendClicked","click .js-message-editor":"onEditorClicked"}},n.prototype.onEditorClicked=function(t){return t.preventDefault(),t.stopPropagation()},n.prototype.onSendClicked=function(t){return this._submitMessage(),t.preventDefault(),t.stopPropagation()},n.prototype._submitMessage=function(){var e;if(this.$(".send-success").hide(),this.$(".send-error").hide(),(e=this.$(".js-message-editor").val()).length)return this.$(".js-message-editor").val(""),t.ajax({url:this.$el.data("message-path")+".js",type:"POST",dataType:"json",data:{inbox:"talent",src:this.$el.data("src"),message:{recipient_type:"User",recipient_id:this.$el.data("recipient-id"),thread_id:this.$el.data("thread-id"),body:e}},success:function(t){return function(e){return e.success?t.$(".send-success").show():t.$(".send-error").show()}}(this),error:function(t){return function(e){return t.$(".send-error").show()}}(this)})},n}(o.View))({el:n})},inbox_compose:function(n,a){var u,d;return u=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.request_options=function(t){return{url:"/autocomplete/connections",data:{query:t},dataType:"json",type:"get"}},n.prototype.process_response=function(t,i){var o,r,s;return s=e.uniq(t.results,!1,function(t){return t.id}),t.results=s,(o=n.__super__.process_response.call(this,t,i)).length>0?o:(r=e.template("<a href='/social'>\n  <div class=\"u-colorGray3 u-fontSize13 u-textAlignCenter u-block s-vgPadTop0_5 s-vgPadBottom0_5 s-vgPadLeft1 s-vgPadRight1\">\n    You can only message direct connections. Add connections &raquo;\n  </div>\n</a>"),o.push({label:r,value:{}}),o)},n}(l.TypedAutocomplete),d=function(n){function o(){return this._select=r(this._select,this),o.__super__.constructor.apply(this,arguments)}return i(o,n),o.prototype.initialize=function(t){var e;if(this.associationTemplate=t.associationTemplate,o.__super__.initialize.apply(this,arguments),this.$el.data("default_user"))return e=new f(this.$el.data("default_user")),this.addAssociation(e)},o.prototype.initializeAutocomplete=function(){return new u({el:this.input(),types:["User"]})},o.prototype.removeAssociation=function(e){return o.__super__.removeAssociation.apply(this,arguments),t(this.input()).val(""),this.trigger("disableMessageButton")},o.prototype._select=function(){var e,n;if(e=1<=arguments.length?s.call(arguments,0):[],(n=this.associationFromSelect.apply(this,e)).get("id"))return this.addAssociation(n),t(this.input()).val(""),!0},o.prototype.renderAssociation=function(t){var n,i;if(t.get("id"))return this.trigger("enableMessageButton"),this.trigger("hideMessageHint"),n={name:t.get("display_name"),url:t.get("slug_url"),photo:t.get("pic"),allowDelete:this.isEditable()},i={interpolate:/\{\{(.+?)\}\}/g,evaluate:/\{\-(.+?)\-\}/g,escape:/\{\{(.+?)\}\}/g},e.template(this.associationTemplate.trim(),n,i)},o}(c.UserField),new(function(e){function n(){return this._bindListeners=r(this._bindListeners,this),n.__super__.constructor.apply(this,arguments)}return i(n,e),n.prototype.initialize=function(){return this._initializeUserField(),h.track("Messages.ViewedComposeNew")},n.prototype._initializeUserField=function(){var t;if((t=this.$(".js-user-tagger")).length>0)return this.userField=new d({el:t,associationTemplate:this.$(".js-user-template").html()}),this._bindListeners(),this.userField.associations().length>0?this.userField.trigger("enableMessageButton"):void 0},n.prototype._bindListeners=function(){return this.listenTo(this.userField,"enableMessageButton",function(t){return function(){return t.$(".js-send-message").removeClass("c-button--disabled disabled"),t.$(".js-compose-input").focus()}}(this)),this.listenTo(this.userField,"disableMessageButton",function(t){return function(){return t.$(".js-send-message").addClass("c-button--disabled disabled"),t.$(".js-message-hint").show()}}(this)),this.listenTo(this.userField,"hideMessageHint",function(t){return function(){return t.$(".js-message-hint").hide()}}(this))},n.prototype.events=function(){return{"click .js-show-attachment-field":function(){return this.$(".js-show-attachment-field").remove(),this.$(".js-attachment-field").show()},"change .js-message-attachment-input":function(e){var n;if((n=e.currentTarget).files[0].size>10485760)return t(n).replaceWith(t(n).clone(!0)),alert("Please select a file under 10MB")}}},n}(o.View))({el:a})},show:function(t,e){return t(".tiptip").qtip({defaultPosition:"left"})},index:function(e,n){return new a(e(".js-dropdown-button"),e(".js-dropdown-menu"),{left:!0,offset_top:-7}).bind(),e(".thread").on("click",function(e){var n;if(!t(e.target).hasClass("unverified-thread"))return t(e.target).is("a, .photo, img")?void 0:(n=t(this).find(".preview > a").attr("href"),e.ctrlKey||e.metaKey?window.open(n,"_blank"):window.location=n)}),e(".js-edit-connection").click(function(e){return t.magnificPopup.open({closeOnBgClick:!1,showCloseBtn:!1,enableEscapeKey:!1,items:{src:t(e.currentTarget).data("url")},type:"ajax"})}),e(".js-add-connection").click(function(n){var i,o;return i=e(this).data("invited-id"),o=e(this).data("url"),t.ajax({url:o,type:"POST",data:{invited_id:i},success:function(e){return t.magnificPopup.open({closeOnBgClick:!1,showCloseBtn:!1,enableEscapeKey:!1,items:{src:"/user_graph_edges/"+e.edge_id+"?post_request=true&source=messages&request_id="+e.request_id},type:"ajax"})},error:function(t){return flash(t.responseJSON.error?t.responseJSON.error:"An error occurred, please try reloading the page.")}})}),e(".tip").qtip(),p.events().on("close_graph_modal",function(t){var n;if(t.connected)return(n=e(".unverified-container[data-neighbor_id="+t.neighbor_id+"]")).find(".verify-connection").hide(),n.find(".unverified-preview").show(),n.parents(".thread").removeClass("unverified-thread")})},profile_message:function(t,e){return void Promise.all([n.e(113).then(n.bind(null,1218))]).then(function(){return function(){return t(".date").livestamp(t(".date").data("timestamp"))}.apply(void 0,arguments[0])}.bind(this))},profile:function(e,n){return e("> .more_link").on("click",function(){return e(this).hide(),e("> .message.hidden").show()}),e(".body_mentions").each(function(){return new d.Autocomplete({el:this,target:e(".body_target")})}),e(".new_message").each(function(){return e("textarea",this).focus(function(t){return function(){return e(".submit",t).show()}}(this)),e(this).ajaxForm(u.loadingOptions(this,{dataType:"json",success:function(n){return t("<div/>").addClass("message").insertBefore(e(".new_message")).append(t(n.html)),e(".new_message textarea").val("")}}))}),e(".canned_link").click(function(){return e(this).addClass("loading"),t.get(e(this).attr("href"),{},function(t){return function(n){return e(t).removeClass("loading"),e(".new_message textarea").focus().val(n.msg_body).trigger("change").trigger("autosize.resize")}}(this)),!1})},send_feedback:function(e,n){return e("textarea").focus(),e("form").submit(function(){return e(".g-button").addClass("loading"),t(this).ajaxSubmit({success:function(t){return e(".close").click()}}),!1})},intro_request:function(e,n){return h.track("IntroRequest.ShowIntroRequestMessage",{source:"Messages"}),e(".js-refer").click(function(e){return h.track("IntroRequest.ShowReferralForm",{source:"Messages"}),t.magnificPopup.open({items:{src:t(e.currentTarget).data("url")},type:"ajax"})})},referral:function(t,e){return h.track("IntroRequest.ShowReferralMessage",{source:"Messages"}),t(".js-view-candidate").click(function(t){return h.track("IntroRequest.TargetViewedCandidate",{source:"Messages"})})},message_request_popover:function(e,n){return new(function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return i(o,e),o.prototype.events=function(){return{"click .js-send-message":"sendMessage","click .js-close":"closePopover"}},o.prototype.sendMessage=function(t){if(!this.$(".js-send-message").hasClass("c-button--loading"))return this.$(".js-send-message").addClass("c-button--loading"),this.$("form").ajaxSubmit({dataType:"json",beforeSend:function(t){return function(){return t.$(".js-error").hide()}}(this),success:function(t){return function(e){if(t.$(".js-container").hide(),t.$(".js-finish").show(),h.track("Message.MessageSent",{sender_id:t.$el.data("senderId"),recipient_id:t.$el.data("recipientId")}),"social_module"===n.data("source"))return window.location.href.indexOf("src=find_people")>0?h.track("Message.MessageSentAfterViewingPeopleTransactions"):window.location.href.indexOf("src=find_services")>0?h.track("Message.MessageSentAfterViewingServices"):void 0}}(this),error:function(t){return function(e){var n;return n=JSON.parse(e.responseText),t.$(".js-error").fadeIn().text(n.errors.join(", "))}}(this),complete:function(t){return function(){return t.$(".js-send-message").removeClass("c-button--loading")}}(this)})},o.prototype.closePopover=function(){return t.magnificPopup.close()},o}(o.View))({el:n})},inbox_header:function(t,e){return new(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.events=function(){return{"click .js-messages-link":function(){return h.track("Talent.Messages.FromPlatformInbox")}}},e}(o.View))({el:e})}}}.apply(void 0,arguments[0])}.bind(this))}});
webpackJsonp([1476],{2744:function(e,t,n){e.exports=Promise.all([new Promise(function(e){e()}).then(n.bind(null,106)),new Promise(function(e){e()}).then(n.bind(null,2)),n.e(19).then(n.bind(null,828)),n.e(61).then(n.bind(null,931)),n.e(86).then(n.bind(null,905)),new Promise(function(e){e()}).then(n.bind(null,33)),n.e(168).then(n.bind(null,1363)),n.e(169).then(n.bind(null,1364)),n.e(67).then(n.bind(null,989)),new Promise(function(e){e()}).then(n.bind(null,107)),new Promise(function(e){e()}).then(n.bind(null,52)),n.e(709).then(n.bind(null,1543)),new Promise(function(e){e()}).then(n.bind(null,164))]).then(function(){return function(e,t,n,i,r,s,a,o,l,u,d,c){var m,p,h,v,f,g;return f=i({displayName:"InvestmentsSection",investments:c.repository,getInitialState:function(){return{editing:!1,loaded:!1}},componentDidMount:function(){return t.getJSON(this.props.load_url,function(e){return function(t){return e.investments.bootstrap(t),e.props.placeholder.hide().parent().removeClass("loaded_section"),e.setState({loaded:!0})}}(this))},componentDidUpdate:function(e,t){if(!t.loaded&&this.state.loaded)return this.investments.on("add remove",function(e){return function(){return e.forceUpdate()}}(this))},exitCount:function(){return this.investments.filter(function(e){return null!=e.get("exit")}).length},toggleEdit:function(){return this.setState({editing:!this.state.editing})},renderEditControl:function(){return n.createElement("div",{className:"u-inlineBlock controls u-floatRight u-fontSize14 s-vgPadTop2"},n.createElement("a",{onClick:this.toggleEdit,href:"javascript:void(0);"},this.state.editing?"Done":"Edit"))},renderEditTips:function(){return n.createElement("div",{className:"featured c-inset u-bgGray s-vgBottom2 u-textAlignCenter"},"Featured investments ",n.createElement("i",{className:"fontello-heart"})," will always display before other investments.")},render:function(){return this.state.loaded?n.createElement("div",null,n.createElement("div",{className:"js-sortable-handle sortable-handle"},this.props.editable&&this.investments.length?this.renderEditControl():void 0,n.createElement("div",{className:"u-inlineBlock title"},"Investments ",n.createElement(h,{onlineCount:this.props.investments_count,exitCount:this.exitCount()}))),n.createElement("div",{className:"c-inset u-clearfix investment_list profile-module"},this.props.editable&&!this.state.editing?n.createElement(m,{tagged_id:this.props.tagged_id,syndicate_slug:this.props.syndicate_slug}):void 0,this.state.editing?this.renderEditTips():void 0,n.createElement(v,{editing:this.state.editing,editable:this.props.editable,investments:this.investments}))):n.createElement("div",null)}}),h=i({displayName:"InvestmentsHeader",renderOnlineCount:function(){if(this.props.onlineCount>0)return n.createElement("span",null,"· ",n.createElement("span",null,this.props.onlineCount," via AngelList"))},renderExitCount:function(){var e;if((e=this.props.exitCount)>0)return n.createElement("span",null,"· ",n.createElement("span",null,e," Exit",e>1?"s":void 0))},render:function(){return n.createElement("div",{className:"u-fontSize12 u-colorGray9 u-inlineBlock"},n.createElement("span",null,this.renderOnlineCount()," ",this.renderExitCount()))}}),v=i({displayName:"InvestmentsList",getInitialState:function(){return{expanded:this.props.editing}},componentWillReceiveProps:function(e){return this.setState({expanded:e.editing})},componentDidUpdate:function(e){if(!e.editing&&this.props.editing)return this.props.investments.resetAddedAt()},handleClick:function(){return this.setState({expanded:!0})},nodeProps:function(e){return{editing:this.props.editing,editable:this.props.editable,investment:e,key:e.get("token")}},render:function(){var e,t,i,r,a,o;if(0===this.props.investments.length)return n.createElement("div",null);for(i=this.props.investments.groupForDisplay(),r=s.map(i.new,function(e){return function(t){return n.createElement(p,Object.assign({},e.nodeProps(t)))}}(this)),t=s.map(i.featured,function(e){return function(t){return n.createElement(p,Object.assign({},e.nodeProps(t)))}}(this)),i.collapsed.length>0&&!this.state.expanded&&t.push(n.createElement(g,{key:"more",moreCount:i.collapsed.length,onClick:this.handleClick})),e=s.map(i.collapsed,function(e){return function(t){return n.createElement(p,Object.assign({collapsed:!e.state.expanded},e.nodeProps(t)))}}(this)),a=r.concat(t.concat(e)),o=5;;){if(o>=a.length)break;a.splice(o,0,n.createElement("div",{key:o,className:"s-grid-break"})),o+=6}return a.splice(o,0,n.createElement("div",{key:"break",className:"s-grid-break"})),n.createElement("div",{className:"pull-grid"},a)}}),g=i({displayName:"MoreButton",componentWillLeave:function(e){return t(r.findDOMNode(this)).hide(),setTimeout(e,0)},render:function(){return n.createElement("div",{className:"u-textAlignCenter s-grid0-colMd4 s-grid--preMd1 s-grid0-colSm12 investment"},n.createElement("div",{onClick:this.props.onClick,className:"more_button u-inlineBlock u-bgGray s-vgPadTop2 s-vgPadRight1 s-vgPadLeft1"},"+",this.props.moreCount,n.createElement("br",null),"MORE"))}}),p=i({displayName:"IndividualInvestment",componentDidMount:function(){return this.props.investment.on("change",function(e){return function(){return e.forceUpdate()}}(this))},componentWillEnter:function(e){if(!t(r.findDOMNode(this)).hasClass("hidden"))return t(r.findDOMNode(this)).hide().fadeIn({complete:function(){return t(this).removeAttr("style"),e()}})},componentWillLeave:function(e){return t(r.findDOMNode(this)).fadeOut({complete:e})},toggleFeatured:function(){return this.props.investment.toggleFeatured()},handleConfirm:function(){return this.props.investment.confirm()},handleDestroy:function(){if(confirm("Are you sure you want to remove this investment?"))return this.props.investment.destroy()},handleEdit:function(){return t.ajax({url:"/startup_roles/"+this.props.investment.id+"/metadata_popover",success:function(e){return t.magnificPopup.open({items:{src:t("<div>"+e+"</div>")}})}})},renderConfirmButtons:function(){return n.createElement("div",null,n.createElement("div",{className:"u-colorGray9 u-fontSize12"},"Unconfirmed"),n.createElement("div",{className:"s-vgTop0_5"},n.createElement("div",{onClick:this.handleConfirm,className:"c-button c-button--blue c-button--sm s-vgRight0_5"},"Confirm"),n.createElement("div",{onClick:this.handleDestroy,className:"c-button c-button--gray c-button--sm"},"Delete")))},renderDateAndRound:function(){var e;return this.props.investment.firstInvestment()?(e=[this.props.investment.firstInvestment().year,this.props.investment.firstInvestment().round].join(" "),n.createElement("div",{className:"u-colorGray6 date-round"},e)):""},renderExit:function(){if(this.props.investment.get("exit"))return n.createElement("div",{className:"u-colorSuccess"},this.props.investment.get("exit"))},renderVia:function(){return this.props.investment.madeOnline()?n.createElement("div",null,"via AngelList"):""},renderEditDeleteControls:function(){return n.createElement("div",null,n.createElement("a",{onClick:this.toggleFeatured,href:"javascript:void(0);",className:"u-unstyledLink fontello-heart"}),"· ",n.createElement("a",{onClick:this.handleEdit,href:"javascript:void(0);",className:"u-unstyledLink"},"Edit"),"· ",n.createElement("a",{onClick:this.handleDestroy,href:"javascript:void(0);",className:"u-unstyledLink"},"Delete"))},renderMetadata:function(){return this.props.editing?n.createElement("div",{className:"u-colorMuted u-fontSize12"},void 0,this.renderEditDeleteControls()):this.props.investment.get("confirmed")?n.createElement("div",{className:"investment_details u-fontSize12 u-colorGray9"},this.renderDateAndRound(),this.renderVia(),this.renderExit()):this.renderConfirmButtons()},render:function(){var e,t,i;return i={klass:"Startup",name:this.props.investment.get("company").company_name,id:this.props.investment.get("company").id,logo_url:this.props.investment.get("company").logo_thumb_url,slug_url:this.props.investment.get("company").slug_url},t="",this.props.collapsed&&(t+="hidden"),this.props.investment.get("featured")&&(t+="featured"),this.props.investment.get("exit")||(e="hidden"),n.createElement("div",{className:"investment s-vgBottom2 u-textAlignCenter s-grid0-colMd4 s-grid--preMd1 s-grid0-colSm12 "+t},n.createElement("div",{className:"photo-outer"},n.createElement(o.Picture,{profile:i,className:"photo larger",size:100,innerSize:70}),n.createElement("div",{className:"g-sash "+e},n.createElement("div",{className:"copy"},"Exit"))),n.createElement("div",{className:"text"},n.createElement("div",{className:"company-link"},n.createElement(o.Link,{profile:i})),this.renderMetadata()))}}),m=i({displayName:"AddInvestmentForm",getInitialState:function(){return{error:null,submitting:!1,autocomplete:{},company_name:""}},componentDidMount:function(){return this.investment=new c,this.$input=t(this.refs.companyName),new l(this.$input,{queryOptions:{klasses:["Startup"]},roles:!0,selectCallback:function(e){return function(t){return e.setState({autocompleted_name:t.name,company_name:t.name}),e.investment.set("startup_id",t.id)}}(this)})},handleChange:function(e){if(this.setState({company_name:e.target.value}),null!=this.state.autocompleted_name&&this.state.autocompleted_name!==e.target.value)return this.setState({autocompleted_name:null}),this.investment.set("startup_id",null)},handleSubmit:function(e){return e.stopPropagation(),e.preventDefault(),""===this.$input.val()?this.setState({error:"Please provide a company name"}):(this.setState({submitting:!0,error:null}),this.investment.submit(u.attributes(this.refs.form,"role"),this.postSubmit))},postSubmit:function(e){var n;return this.setState({submitting:!1,company_name:""}),null!=e?this.setState({error:e}):(this.refs.form.reset(),(n=t(d.selector("profiles/show/completeness"))).length?d.with(n,function(e){return e.reload("portfolio")}):void 0)},renderSubmitButton:function(){var e;return e="c-button c-button--gray quick-add-btn"+(this.state.submitting?" c-button--loading":""),n.createElement("input",{type:"submit",disabled:this.state.submitting,className:e,value:"Add"})},renderErrors:function(){return null!=this.state.error?n.createElement("div",{className:"u-colorError u-textAlignCenter s-vgBottom1"},this.state.error):""},render:function(){var e,t,i;return e=(new Date).getFullYear(),i=s.map(function(){t=[];for(var n=e;e<=1960?n<=1960:n>=1960;e<=1960?n++:n--)t.push(n);return t}.apply(this),function(e){return n.createElement("option",{key:e,value:e},e)}),n.createElement("div",{className:"c-inset u-bgGray s-vgBottom2"},this.props.syndicate_slug&&n.createElement("div",{className:"syndicate_banner s-vgBottom1 s-vgBottom1_5"},n.createElement("div",{class:"g-tag"},"Update"),n.createElement("span",{class:"s-vgPadLeft1",style:{verticalAlign:"middle"}},"Want to feature an investment on your syndicate? Please visit your ",n.createElement("a",{href:"https://angel.co/"+this.props.syndicate_slug+"/syndicate#investments"},"syndicate page"),".")),n.createElement("form",{className:"s-form add_investment",ref:"form",onSubmit:this.handleSubmit},this.renderErrors(),n.createElement("span",{className:"u-colorGray9"},"ADD AN INVESTMENT"),n.createElement("input",{type:"hidden",name:"role[role]",value:"past_investor"}),n.createElement("input",{type:"hidden",name:"role[tagged_type]",value:"User"}),n.createElement("input",{type:"hidden",name:"role[tagged_id]",value:this.props.tagged_id}),n.createElement("input",{size:"35",type:"text",placeholder:"Company",name:"role[company_name]",className:"s-vgRight1 s-vgLeft1",ref:"companyName",onChange:this.handleChange,value:this.state.company_name}),n.createElement("select",{name:"role[started_at_year]",defaultValue:"none",className:"s-vgRight1 u-hiddenSmOnly"},n.createElement("option",{value:"none",disabled:!0,style:{display:"none"}},"Year"),i),n.createElement("select",{name:"role[round_stage]",defaultValue:"none",className:"s-vgRight1 u-hiddenSmOnly"},n.createElement("option",{value:"none",disabled:!0,style:{display:"none"}},"Stage"),n.createElement("option",{value:"Seed"},"Seed"),n.createElement("option",{value:"Series A"},"Series A"),n.createElement("option",{value:"Series B"},"Series B"),n.createElement("option",{value:"Series C"},"Series C"),n.createElement("option",{value:"Series D"},"Series D"),n.createElement("option",{value:""},"Other")),this.renderSubmitButton()))}}),{mount:function(e,t,i){return r.render(n.createElement(f,Object.assign({},t,{placeholder:i})),e)}}}.apply(void 0,arguments[0])}.bind(this))}});